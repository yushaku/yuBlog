---
title: "Solidity: Common mistakes for beginners"
date: "2025-05-17"
tags: ["solidity", "beginner"]
status: "draft"
description: "This article explains some common mistakes that beginners make in Solidity"
---

## 1. Using `msg.sender` instead of `msg.value`

```solidity

```

## 2. Division before multiplication

In Solidity, the division operation should always be the last operation because division rounds numbers down.

For example, if we want to compute that we should pay someone 33.33% interest, the **wrong** way to do it is:

```solidity
interest = principal / 3_333 * 10_000;
```

If the principal is less than 3,333, the interest will round down to zero. Instead, the interest should be computed in the following manner:

```solidity
interest = principal * 10_000 / 3_333;
```

Here is the math behind how the rounding fails in the first example and succeeds in the second:

```solidity
**// Wrong way:**
If principal = 3000,
interest = principal / 3333 * 10000
interest = 3000 / 3333 * 10000
interest = 0 * 10000 (rounding down in division)
interest = 0

// **Correct Calculation:**
If principal = 3000,
interest = principal * 10000 / 3333
interest = 3000 * 10000 / 3333
interest = 30000000 / 3333 interest approx 9000
```

### Catching the issue with Slither

[Slither](https://github.com/crytic/slither) is a static analysis tool by Trail of Bits that parses the codebase to pattern match common mistakes.

If we create the following (faulty) contract `interest.sol`

```solidity
contract Interest {

    // 1 basis point is 0.01% or 1/10_000
    function calculateInterest(uint256 principal, uint256 interestBasisPoints) public pure returns (uint256 interest){
        interest = principal / 10_000 * interestBasisPoints;
    }
}
```

And in the terminal run

```bash
slither interest.sol
```

we get the following warning:

![A screenshot of the Slither warning that multiplication happens after division](https://www.rareskills.io/wp-content/uploads/2024/09/Screenshot_2024-05-01_at_1.52.14_PM.png)

In this case, it is saying we divide before multiply, which in general is something to avoid.
