---
title: "Account Abstraction breakdown"
date: "2024-01-10"
tags: ["dev"]
status: "draft"
description: "Account Abstraction l√† m·ªôt b∆∞·ªõc ti·∫øn l·ªõn trong vi·ªác c·∫£i thi·ªán tr·∫£i nghi·ªám ng∆∞·ªùi d√πng v√† tƒÉng t√≠nh linh ho·∫°t cho t√†i kho·∫£n tr√™n blockchain‚Äìƒë·∫∑c bi·ªát l√† Ethereum."
---

## Self Custody Wallets

N·∫øu b·∫°n t·ª´ng g·ª≠i g·∫Øm thanh xu√¢n (v√† ti·ªÅn) c·ªßa m√¨nh cho m·∫•y √¥ng s√†n CEX nh∆∞ FTX, Celsius r·ªìi b·ªã ‚Äúbay m√†u‚Äù ch·ªâ sau m·ªôt ƒë√™m th√¨ ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi h·ªôi ‚Äút√¥i th√† t·ª± gi·ªØ ti·ªÅn c√≤n h∆°n g·ª≠i ai ƒë√≥ r·ªìi ƒëi ng·ªß kh√¥ng y√™n‚Äù.

Nghe th√¨ hay ho: **‚ÄúSelf-custody is the future‚Äù**. Nh∆∞ng th·ª±c t·∫ø th√¨... t·ª± gi·ªØ v√≠ c√≤n kh·ªï h∆°n y√™u xa. B·∫°n ph·∫£i b·∫£o qu·∫£n m·ªôt c√°i chu·ªói k√Ω t·ª± kh√≥ nh·ªõ‚Äìg·ªçi l√† **private key**‚Äìho·∫∑c m·ªôt ƒëo·∫°n seed phrase 24 t·ª´ nh√¨n nh∆∞ l·ªùi nguy·ªÅn c·ªï ƒë·∫°i. M√† ch·ªâ c·∫ßn b·∫°n qu√™n, hay l·ª° tay copy-paste nh·∫ßm cho hacker th√¨... **xong phim**.

Th·∫ø l√† ng∆∞·ªùi ta m·ªõi ƒë·∫ª ra c√°i kh√°i ni·ªám nghe sang ch·∫£nh: **Account Abstraction**‚Äìhi·ªÉu n√¥m na l√† ‚Äúc√° nh√¢n h√≥a t√†i kho·∫£n, nh∆∞ng ki·ªÉu th√¥ng minh‚Äù. M·ªôt c√∫ chuy·ªÉn h√≥a t·ª´ vi·ªác d√πng v√≠ EOA‚ÄìExternally Owned Account, sang vi·ªác bi·∫øn m·ªói t√†i kho·∫£n th√†nh m·ªôt **smart contract** c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c.

T·ª©c l√† sao? L√† t·ª´ gi·ªù, thay v√¨ c·ª© ph·∫£i gi·ªØ private key nh∆∞ b√°u v·∫≠t, b·∫°n c√≥ th·ªÉ **t√πy bi·∫øn c√°ch x√°c th·ª±c**, **batch giao d·ªãch**, **tr·∫£ ph√≠ gas b·∫±ng token ERC-20**, ho·∫∑c th·∫≠m ch√≠ **ƒë∆∞a v√≠ v√†o ch·∫ø ƒë·ªô ƒëa ch·ªØ k√Ω nh∆∞ team qu·∫£n l√Ω c√¥ng ty**.

T·∫•t c·∫£ ƒë·ªÅu v√¨ m·ªôt m·ª•c ti√™u thi√™ng li√™ng: **ƒë·ª° phi·ªÅn ph·ª©c, ƒë·ª° m·∫•t ti·ªÅn, v√† ƒë·ª° l√∫**.

## Current Situation

Trong th·∫ø gi·ªõi Ethereum hi·ªán nay, c√≥ hai lo·∫°i **account** ch√≠nh:

### üßç 1. Externally Owned Account (EOA)

ƒê√¢y l√† lo·∫°i v√≠ truy·ªÅn th·ªëng m√† 99% d√¢n ch∆°i crypto t·ª´ng x√†i, v√≠ d·ª• nh∆∞ **Metamask**. Lo·∫°i v√≠ n√†y ƒë∆∞·ª£c ki·ªÉm so√°t b·∫±ng **private key**, m√† private key th√¨ th∆∞·ªùng ƒë∆∞·ª£c sinh ra t·ª´ **seed phrase**‚Äìb·∫°n bi·∫øt ƒë·∫•y, c√°i ƒëo·∫°n vƒÉn k·ª≥ b√≠ 24 t·ª´ m√† ng∆∞·ªùi ta b·∫£o ph·∫£i ch√©p tay, c·∫•t k·ªπ, v√† kh√¥ng share cho ai (tr·ª´ khi b·∫°n mu·ªën m·∫•t s·∫°ch coin cho vui).

C√°i v√≠ n√†y ch·ªâ c√≥ m·ªôt vi·ªác: **g·ª≠i transaction** v√† **t·ª± m√¨nh tr·∫£ ph√≠ gas** cho t·ª´ng transaction ƒë√≥. Nghe th√¨ b√¨nh th∆∞·ªùng, nh∆∞ng ƒë√≥ ch√≠nh l√† ngu·ªìn c∆°n c·ªßa nhi·ªÅu bi k·ªãch.

### ü§ñ 2. Smart Contract Account

ƒê√¢y l√† d·∫°ng t√†i kho·∫£n **kh√¥ng c√≥ private key** m√† ho·∫°t ƒë·ªông nh·ªù **code**. N√≥ kh√¥ng th·ªÉ t·ª± g·ª≠i transaction (v√¨ kh√¥ng ai ƒëi·ªÅu khi·ªÉn n√≥ b·∫±ng key), nh∆∞ng c√≥ th·ªÉ l√†m ƒë∆∞·ª£c g·∫ßn h·∫øt m·ªçi th·ª© m√† EOA l√†m‚Äìmi·ªÖn l√† c√≥ ai ƒë√≥ ‚Äúk√≠ch ho·∫°t‚Äù.

üß® V·∫•n ƒê·ªÅ Sinh Ra T·ª´ Hai Lo·∫°i V√≠ Tr√™n

#### üòµ‚Äçüí´ Qu·∫£n L√Ω key‚Äìc∆°n √Åc M·ªông

Th·∫≠t l√≤ng m√† n√≥i: **ch√∫ng ta c√≤n qu√™n c·∫£ m·∫≠t kh·∫©u Facebook**, hu·ªëng chi l√† nh·ªõ nguy√™n c√°i private key hay seed phrase.
N√™n ng∆∞·ªùi ta ƒë√†nh:

- L∆∞u tr√™n cloud‚Äìr·ªìi cloud b·ªã hack.
- D√πng app qu·∫£n l√Ω password‚Äìr·ªìi qu√™n password c·ªßa app.
- Ghi ra gi·∫•y‚Äìr·ªìi m·∫•t t·ªù gi·∫•y.

K·∫øt qu·∫£? **M·ªôt c√∫ leak nh·ªè = bay m√†u t·∫•t c·∫£**. Kh√¥ng n√∫t undo, kh√¥ng hotline h·ªó tr·ª£, kh√¥ng ai tr·∫£ l·∫°i ti·ªÅn cho b·∫°n.

V√† ƒë√≥ c≈©ng l√† l√Ω do nhi·ªÅu ng∆∞·ªùi l·∫°i quay v·ªÅ d√πng v√≠ l∆∞u k√Ω (**custodial wallets**) tr√™n s√†n. Ki·ªÉu ‚Äúƒë∆∞a ti·ªÅn ng∆∞·ªùi kh√°c gi·ªØ cho ch·∫Øc‚Äù‚Äìv√† r·ªìi FTX v·∫´y ch√†o b·∫°n t·ª´ thi√™n ƒë∆∞·ªùng.

> _Crypto kh√¥ng ph·∫£i v·ªÅ "kh√¥ng c·∫ßn trung gian", m√† l√† "ai ch·ªãu tr√°ch nhi·ªám khi t√¥i ngu"._

#### üëé Tr·∫£i Nghi·ªám Ng∆∞·ªùi D√πng T·ªá Nh∆∞... Windows Vista

V·ªõi smart contract, ta c√≥ th·ªÉ g·ªçi m·ªôt h√†m ‚Üí h√†m ƒë√≥ g·ªçi th√™m 5‚Äì10 smart contract kh√°c ‚Üí c·ª±c k·ª≥ m∆∞·ª£t.

Nh∆∞ng EOA th√¨ **kh√¥ng ch∆°i ƒë∆∞·ª£c tr√≤ ƒë√≥**. M·ªôt l·∫ßn ch·ªâ g·ªçi ƒë∆∞·ª£c **m·ªôt h√†m duy nh·∫•t**. Mu·ªën l√†m g√¨ ph·ª©c t·∫°p nh∆∞ swap token tr√™n Uniswap th√¨ ph·∫£i:

1. Approve.
2. R·ªìi m·ªõi Transfer.

2 giao d·ªãch cho m·ªôt h√†nh ƒë·ªông. ƒê√£ v·∫≠y c√≤n **tr·∫£ gas 2 l·∫ßn**, **k√Ω 2 l·∫ßn**, v√† n·∫øu b·∫°n ƒëang ch∆°i game on-chain, th√¨...

> ‚ÄúB·∫°n mu·ªën di chuy·ªÉn nh√¢n v·∫≠t? K√Ω c√°i transaction ƒëi!‚Äù
> ‚ÄúB·∫°n mu·ªën t·∫•n c√¥ng k·∫ª ƒë·ªãch? K√Ω n·ªØa nha!‚Äù
> ‚Üí Ch∆°i 10 ph√∫t, k√Ω 20 l·∫ßn, tay chu·ªôt nh∆∞ng t√¢m m·ªèi.

Ch∆∞a k·ªÉ ƒë·∫øn vi·ªác m·ªói l·∫ßn d√πng EOA, b·∫°n ph·∫£i **lu√¥n c√≥ token g·ªëc ƒë·ªÉ tr·∫£ ph√≠ gas**. Mu·ªën b·∫Øc c·∫ßu DAI sang Layer 2 m√† kh√¥ng c√≥ ETH? R√°ng m√† b·∫Øc b·∫±ng ni·ªÅm tin.

---

**T√≥m l·∫°i**: h·ªá th·ªëng EOA + smart contract hi·ªán t·∫°i l√† **c·ªï ƒëi·ªÉn v√† b·∫•t ti·ªán**, khi·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ª•t mood, v√† l√† r√†o c·∫£n khi·∫øn crypto kh√≥ ph·ªï c·∫≠p.

May m√† **Account Abstraction** ƒë√£ ƒë·∫øn nh∆∞ m·ªôt b·∫£n c·∫≠p nh·∫≠t firmware‚Äìnghe th√¨ ƒë∆°n gi·∫£n, nh∆∞ng l√†m th√¨ kh√¥ng d·ªÖ, v√† k·∫øt qu·∫£ th√¨ r·∫•t ƒë√°ng hype.

## Account Abstraction üîë

Account Abstraction l√† m·ªôt b∆∞·ªõc ti·∫øn l·ªõn trong vi·ªác c·∫£i thi·ªán tr·∫£i nghi·ªám ng∆∞·ªùi d√πng v√† tƒÉng t√≠nh linh ho·∫°t cho t√†i kho·∫£n tr√™n blockchain‚Äìƒë·∫∑c bi·ªát l√† Ethereum. Thay v√¨ ch·ªâ d·ª±a v√†o v√≠ truy·ªÅn th·ªëng (EOA‚ÄìExternally Owned Account) v·ªën b·ªã gi·ªõi h·∫°n b·ªüi m√¥ h√¨nh "1 private key ƒëi·ªÅu khi·ªÉn to√†n b·ªô", Account Abstraction cho ph√©p m·ªói t√†i kho·∫£n l√† m·ªôt **smart contract c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c**, v·ªõi logic t√πy ch·ªânh cho vi·ªác x√°c th·ª±c, x·ª≠ l√Ω giao d·ªãch, v√† qu·∫£n l√Ω quy·ªÅn truy c·∫≠p.

ƒêi·ªÉm c·ªët l√µi c·ªßa Account Abstraction l√† **t√°ch bi·ªát ng∆∞·ªùi k√Ω giao d·ªãch v·ªõi t√†i kho·∫£n th·ª±c thi giao d·ªãch**. Nh·ªù ƒë√≥, ch√∫ng ta c√≥ th·ªÉ:

### ƒêa D·∫°ng H√≥a C√°ch X√°c Th·ª±c

Kh√¥ng c√≤n gi·ªõi h·∫°n b·ªüi ch·ªØ k√Ω ECDSA ƒëi k√®m private key, m·ªôt t√†i kho·∫£n gi·ªù ƒë√¢y c√≥ th·ªÉ ch·∫•p nh·∫≠n ch·ªØ k√Ω theo b·∫•t k·ª≥ l∆∞·ª£c ƒë·ªì n√†o:

- S·ª≠ d·ª•ng **FaceID ho·∫∑c TouchID** t·ª´ thi·∫øt b·ªã di ƒë·ªông ƒë·ªÉ k√Ω giao d·ªãch.
- H·ªó tr·ª£ ch·ªØ k√Ω **ƒëa ch·ªØ k√Ω (multi-signature)** v·ªõi c√°c quy t·∫Øc ph√™ duy·ªát linh ho·∫°t.
- Th·∫≠m ch√≠ h·ªó tr·ª£ **ch·ªØ k√Ω ch·ªëng l∆∞·ª£ng t·ª≠** trong t∆∞∆°ng lai ƒë·ªÉ n√¢ng cao b·∫£o m·∫≠t.

### T√πy Bi·∫øn Logic Giao D·ªãch

T√†i kho·∫£n d∆∞·ªõi d·∫°ng smart contract c√≥ th·ªÉ ch·ª©a c√°c quy t·∫Øc t√πy ch·ªânh ƒë·ªÉ x√°c ƒë·ªãnh giao d·ªãch n√†o ƒë∆∞·ª£c ph√©p th·ª±c hi·ªán:

- Gi·ªõi h·∫°n lo·∫°i giao d·ªãch ƒë∆∞·ª£c ph√©p th·ª±c hi·ªán (v√≠ d·ª• ch·ªâ giao d·ªãch v·ªõi c√°c dApp ƒë√£ ƒë∆∞·ª£c duy·ªát).
- X√°c ƒë·ªãnh gi·ªõi h·∫°n s·ªë ti·ªÅn, t·∫ßn su·∫•t giao d·ªãch ho·∫∑c y√™u c·∫ßu x√°c th·ª±c b·ªï sung t√πy t√¨nh hu·ªëng.
- Th√™m c√°c c∆° ch·∫ø ki·ªÉm so√°t n·ªôi b·ªô nh∆∞ "ƒë√≥ng bƒÉng t√†i kho·∫£n" khi ph√°t hi·ªán ho·∫°t ƒë·ªông b·∫•t th∆∞·ªùng.

### Linh Ho·∫°t Trong Thanh To√°n Ph√≠ Gas

Account Abstraction cho ph√©p t√†i kho·∫£n:

- **Thanh to√°n gas b·∫±ng token ERC-20** thay v√¨ ch·ªâ ETH. V√≠ d·ª•: t√†i kho·∫£n c√≥ th·ªÉ t·ª± ƒë·ªông swap DAI sang ETH n·ªôi b·ªô ƒë·ªÉ thanh to√°n ph√≠.
- **Nh·∫≠n t√†i tr·ª£ ph√≠ gas t·ª´ b√™n th·ª© ba**. DApps ho·∫∑c n·ªÅn t·∫£ng c√≥ th·ªÉ t√†i tr·ª£ ph√≠ gas cho ng∆∞·ªùi d√πng nh·∫±m c·∫£i thi·ªán tr·∫£i nghi·ªám onboarding.

### G·ªôp Nhi·ªÅu H√†nh ƒê·ªông Th√†nh M·ªôt Giao D·ªãch (Batch Transactions)

V·ªõi EOA, ng∆∞·ªùi d√πng ph·∫£i th·ª±c hi·ªán t·ª´ng b∆∞·ªõc m·ªôt c√°ch th·ªß c√¥ng (v√≠ d·ª•: approve ‚Üí transfer).
V·ªõi Account Abstraction, t√†i kho·∫£n c√≥ th·ªÉ **th·ª±c thi nhi·ªÅu h√†nh ƒë·ªông trong m·ªôt giao d·ªãch duy nh·∫•t**, gi√∫p:

- Gi·∫£m s·ªë l·∫ßn k√Ω giao d·ªãch.
- Ti·∫øt ki·ªám ph√≠.
- C·∫£i thi·ªán tr·∫£i nghi·ªám ng∆∞·ªùi d√πng, ƒë·∫∑c bi·ªát v·ªõi c√°c ·ª©ng d·ª•ng nh∆∞ game on-chain ho·∫∑c NFT marketplace.

### Kh·∫£ NƒÉng Ph·ª•c H·ªìi V√† Kh√¥i Ph·ª•c T√†i Kho·∫£n

Nh·ªù c√≥ th·ªÉ l·∫≠p tr√¨nh, t√†i kho·∫£n c√≥ th·ªÉ t√≠ch h·ª£p s·∫µn:

- **C∆° ch·∫ø kh√¥i ph·ª•c khi m·∫•t quy·ªÅn truy c·∫≠p**, th√¥ng qua ng∆∞·ªùi k√Ω ph·ª•/trustee.
- **Thay ƒë·ªïi ng∆∞·ªùi k√Ω** m√† kh√¥ng c·∫ßn t·∫°o v√≠ m·ªõi.
- TƒÉng c∆∞·ªùng b·∫£o m·∫≠t v·ªõi c√°c c·∫•p ƒë·ªô x√°c th·ª±c t√πy bi·∫øn theo r·ªßi ro.

### üéØ T·ªïng K·∫øt

Account Abstraction kh√¥ng ch·ªâ l√† m·ªôt √Ω t∆∞·ªüng mang t√≠nh l√Ω t∆∞·ªüng h√≥a tr·∫£i nghi·ªám ng∆∞·ªùi d√πng‚Äìn√≥ ƒëang **ƒë∆∞·ª£c tri·ªÉn khai v√† ph√°t tri·ªÉn tr√™n nhi·ªÅu n·ªÅn t·∫£ng l·ªõn**, ƒë·∫∑c bi·ªát l√† th√¥ng qua EIP-4337 tr√™n Ethereum v√† c√°c Layer 2.

N√≥ m·ªü ra c√°nh c·ª≠a cho:

- V√≠ crypto th√¢n thi·ªán h∆°n v·ªõi ng∆∞·ªùi d√πng ph·ªï th√¥ng.
- Onboarding d·ªÖ d√†ng m√† kh√¥ng hy sinh t√≠nh phi t·∫≠p trung.
- Giao d·ªãch an to√†n, ki·ªÉm so√°t linh ho·∫°t, b·∫£o m·∫≠t cao h∆°n.

Trong t∆∞∆°ng lai, vi·ªác d√πng v√≠ crypto c√≥ th·ªÉ ƒë∆°n gi·∫£n nh∆∞ ƒëƒÉng nh·∫≠p b·∫±ng email ho·∫∑c FaceID‚Äình∆∞ng ƒë·∫±ng sau v·∫´n l√† s·ª©c m·∫°nh c·ªßa blockchain. V√† Account Abstraction ch√≠nh l√† c·∫ßu n·ªëi gi·ªØa s·ª± ƒë∆°n gi·∫£n ·∫•y v·ªõi n·ªÅn t·∫£ng c√¥ng ngh·ªá phi t·∫≠p trung.
